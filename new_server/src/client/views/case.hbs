<section class="top-container">
	<div class="logo-container">
		<!-- <span><a href="/">J</a></span> -->
	</div>
	<article class="case-container">
		<h1 class="case-title">{{ result.case.title }}</h1>
		<p class="card-author case-author">
			von <span><a href="/users/{{result.author.authorId}}">{{ result.author.name }}</a></span>
		</p>
		<p class="card-tags">
			<span>{{# each result.categories}}<a id="first-tag" href="/cases">{{ this }}</a>{{/each}}</span>
			•<span><a href="/cases">{{ result.subcategories }}</a></span> •<span>
				<span><a href="/cases">{{ result.problems }}</a></span>
		</p>
	</article>
</section>
<div class="container-bottom">
	<div class="left-bot-container"></div>
	<section class="middle-container">
		<article class="case-content">
			<h4 class="sub-header">Sachverhalt</h4>
			<p class="case-text">{{ result.case.issue }}</p>
			<p class="case-question">{{ result.case.task}}</p>
			<button id="showSolutionButton" onclick="showSolution()">Musterloesung ansehen</button>
		</article>
	</section>
	<article id="case-solution">
		<h2 class="sub-header">Musterloesung</h2>
		<p class="case-text"> <span style="white-space: pre-wrap;">{{ result.case.solution }}</span></p>
		<form action="/cases/{{result.caseId}}/done" method="post">
			<h5 class="done-header">Fertig bearbeitet?</h5>
			<input id="showSolutionButton" class="rob-font" type="submit" value="Abschließen">
		</form>
	</article>
	<div class="right-bot-container"></div>
</div>
<script>
	function showSolution() {
			const x = document.getElementById('case-solution')
			if (x.style.display === 'none') {
				x.style.display = 'block'
			} else {
				x.style.display = 'none'
			}
		};

		var dropdown = document.getElementsByClassName("listLink");
		var i;

		for (i = 0; i < dropdown.length; i++) {
			dropdown[i].addEventListener("click", function () {
				this.classList.toggle("active");
				var dropdownContent = this.nextElementSibling;
				if (dropdownContent.style.display === "block") {
					dropdownContent.style.display = "none";
				} else {
					dropdownContent.style.display = "block";
				}
			});
		}
</script>